<div class="news">
  {% if site.latest_posts != blank %}
    {% assign latest_posts_size = site.posts | size %}
    <div
      class="recent-posts-container"
      {% if site.latest_posts.scrollable and latest_posts_size > 3 %}
        style="max-height: 60vw; overflow-y: auto;"
      {% endif %}
    >
      {% assign latest_posts = site.posts %}
      {% if site.latest_posts.limit %}
        {% assign latest_posts_limit = site.latest_posts.limit %}
      {% else %}
        {% assign latest_posts_limit = latest_posts_size %}
      {% endif %}
      {% for item in latest_posts limit: latest_posts_limit %}
        <div class="recent-post-item mb-3">
          <div class="row align-items-center">
            {% if item.thumbnail %}
              <div class="col-3 col-md-2">
                <div class="post-thumbnail-side">
                  {% assign thumbnail_path = item.thumbnail %}
                  {% if item.redirect == blank %}
                    <a href="{{ item.url | relative_url }}">
                      <img src="{{ thumbnail_path | relative_url }}" alt="{{ item.title }}" class="img-fluid rounded" style="width: 100%; height: 80px; object-fit: cover;">
                    </a>
                  {% elsif item.redirect contains '://' %}
                    <a href="{{ item.redirect }}" target="_blank">
                      <img src="{{ thumbnail_path | relative_url }}" alt="{{ item.title }}" class="img-fluid rounded" style="width: 100%; height: 80px; object-fit: cover;">
                    </a>
                  {% else %}
                    <a href="{{ item.redirect | relative_url }}">
                      <img src="{{ thumbnail_path | relative_url }}" alt="{{ item.title }}" class="img-fluid rounded" style="width: 100%; height: 80px; object-fit: cover;">
                    </a>
                  {% endif %}
                </div>
              </div>
              <div class="col-9 col-md-10">
            {% else %}
              <div class="col-12">
            {% endif %}
            
            <div class="post-content">
              <h3 class="post-title mb-1">
                {% if item.redirect == blank %}
                  <a href="{{ item.url | relative_url }}" class="text-decoration-none">{{ item.title }}</a>
                {% elsif item.redirect contains '://' %}
                  <a href="{{ item.redirect }}" target="_blank" class="text-decoration-none">{{ item.title }}</a>
                {% else %}
                  <a href="{{ item.redirect | relative_url }}" class="text-decoration-none">{{ item.title }}</a>
                {% endif %}
              </h3>
              
              <p class="post-date text-muted mb-0">{{ item.date | date: '%b %d, %Y' }}</p>
            </div>
          </div>
          </div>
        </div>
        
        {% unless forloop.last %}
          <hr class="my-4">
        {% endunless %}
      {% endfor %}
    </div>
  {% else %}
    <p>No posts so far...</p>
  {% endif %}
</div>
